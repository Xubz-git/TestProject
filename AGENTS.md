cat > AGENTS.md <<'EOF'
# AGENTS.md — 《某省生态环境厅数据资源目录管理系统》前端原型规范

## 项目目标
用原生 HTML + CSS + JavaScript 实现一个可本地直接打开运行的前端原型，完成数据资源目录的查询、维护与统计展示。不得依赖外部 CDN、构建工具或后端服务。

## 技术与约束
- **技术栈**：原生 HTML/CSS/JS，可使用 `<script type="module">`。
- **禁止**：外部 CDN、框架（React/Vue 等）、打包工具、服务端依赖。
- **网络**：默认禁网。如需联网或大量写文件，必须征得用户确认。
- **数据持久化**：使用 `localStorage`。提供“导入/导出 JSON”能力。
- **可访问性**：语义化标签、可聚焦、aria 属性、键盘可用。
- **性能**：首屏本地加载尽量≤1s；列表分页/延迟渲染；简单虚拟滚动可选。

## 目录结构（期望）
- `index.html` —— 页面骨架与导航容器（支持哈希路由）。
- `styles.css` —— 主题变量（绿色/蓝色系）、组件样式、动画。
- `app.js` —— 路由、状态管理（localStorage）、表格与表单逻辑、事件绑定、工具函数（节流/防抖/转义/格式化）。
- `charts.js` —— 轻量 Canvas/SVG 图表（柱状、环图、折线），支持导出 PNG。
- `data.js` —— 示例数据与数据 API（seed/get/set/import/export），首次种子 40–80 条。

## 功能模块（必须完成）
1. **首页（总览）**：指标卡、近期更新时间线、占比图（共享级别/开放状态）。
2. **目录管理**：表格（搜索/筛选/排序/分页）、批量操作（启用/停用/删除）、新增/编辑弹窗、导入/导出 JSON、行点击进详情。
3. **目录详情**：信息卡、标签 chips、关联目录、历史版本，支持编辑/复制为新目录/启用停用。
4. **部门与标签**：部门列表 + 标签云；点击跳转到目录管理并自动带筛选。
5. **统计分析**：部门-目录数量柱状图、占比环图、月度更新趋势折线图；图表可导出 PNG。
6. **系统设置**：省名、主题浅/深、每页条数设置；清空 localStorage；加载示例数据；关于与说明。

## 交互细节
- 页面切换淡入、按钮 hover、表格行高亮、弹窗缩放、加载骨架屏（150–300ms 动画）。
- 键盘：`/` 聚焦搜索，`Esc` 关闭弹窗，`Enter` 提交表单。
- 路由：使用哈希（`#`），URL 反映当前页与筛选参数；刷新保留状态。
- 输入校验与防护：必填校验、基本 XSS 转义、删除操作二次确认。
- 无数据时展示占位与“加载示例数据”入口。

## 数据模型（示例）
```json
{
  "id": "uuid",
  "name": "地表水质监测月报",
  "department": "水生态环境处",
  "tags": ["水质","监测","月报"],
  "shareLevel": "开放",      // 开放/共享/内部
  "status": "有效",          // 有效/停用
  "updateCycle": "每月",
  "lastUpdated": "2025-07-15",
  "recordCount": 58231,
  "owner": "张三",
  "contact": "owner@example.gov.cn",
  "summary": "覆盖主要断面水质监测指标的月度汇总。",
  "relatedIds": ["..."],
  "history": [
    {"time":"2025-07-15","action":"字段更新"},
    {"time":"2025-06-15","action":"新增记录"}
  ]
}
